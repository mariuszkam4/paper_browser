<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Paper Browser</title>
</head>
<body>
    <form method="POST" action="/">
        <label for="keyword">Keyword:</label>
        <input type="text" name="keyword" required>
        
        <label for="date_range">Select Date Range:</label>
        <select name="date_range" id="date_range" required>
            <option value="1">Last year</option>
            <option value="2">Last month</option>
            <option value="3">Last week</option>
            <option value="4">Custom Range</option>
        </select>
        
        <div id="custom_date_range" style="display: none;">
            <label for="start_date">Start Date:</label>
            <input type="date" name="start_date">
            <label for="end_date">End Date:</label>
            <input type="date" name="end_date">
        </div>
        
        
        <button type="submit">Search</button>
    </form>
    <ul>
        {% for publication in publications %}
            <li>
                <a href="{{ publication.link }}">{{ publication.title }}</a>
                <p>{{ publication.summary }}</p>
                <p>Published: {{ publication.published }}</p>
            </li>
        {% endfor %}
    </ul>
    
    <script>
        document.getElementById('date_range').addEventListener('change', function() {
            var customDateRange = document.getElementById('custom_date_range');
            var startDateInput = document.querySelector('input[name="start_date"]');
            var endDateInput = document.querySelector('input[name="end_date"]');
            if (this.value === '4') {
                customDateRange.style.display = 'block';
                startDateInput.required = true;
                endDateInput.required = true;
            } else {
                customDateRange.style.display = 'none';
                startDateInput.required = false;
                endDateInput.required = false;
            }
        });

    </script>
</body>
</html>
